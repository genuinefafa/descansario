# Descansario - Variables de Entorno para Producción
# Copiar a .env y completar con valores reales
# IMPORTANTE: .env NO debe commitearse (está en .gitignore)

# ============================================
# JWT Authentication
# ============================================

# Secret para firmar tokens JWT
# Generar con: openssl rand -base64 32
JWT_SECRET=CAMBIAR_POR_SECRET_ALEATORIO_SEGURO

# Issuer del token (nombre de la API)
JWT_ISSUER=descansario-api

# Audience del token (nombre del cliente)
JWT_AUDIENCE=descansario-web

# Expiración del token en horas (default: 168 = 7 días)
JWT_EXPIRATION_HOURS=168

# ============================================
# Database
# ============================================

# Path a la base de datos SQLite
# En Docker, usar path dentro del contenedor
DATABASE_PATH=/data/descansario.db

# ============================================
# CORS (Cross-Origin Resource Sharing)
# ============================================

# Orígenes permitidos (separados por coma)
# Desarrollo: http://localhost:3000,http://localhost:5173
# Producción: https://tu-dominio.com
CORS_ORIGINS=https://tu-dominio.com

# ============================================
# Logging
# ============================================

# Nivel de logging: Debug, Information, Warning, Error, Critical
LOG_LEVEL=Information

# Path para archivos de log (si se usa file logging)
LOG_PATH=/var/log/descansario

# ============================================
# Rate Limiting
# ============================================

# Límite global de requests por minuto por IP
RATE_LIMIT_GLOBAL=100

# Límite de login attempts por minuto
RATE_LIMIT_LOGIN=10

# Límite de registro por hora
RATE_LIMIT_REGISTER=5

# ============================================
# Email (Futuro - para notificaciones)
# ============================================

# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=tu-email@gmail.com
# SMTP_PASSWORD=tu-app-password
# SMTP_FROM=noreply@tu-dominio.com

# ============================================
# Application
# ============================================

# Entorno: Development, Staging, Production
ASPNETCORE_ENVIRONMENT=Production

# URL base de la aplicación
APP_URL=https://tu-dominio.com

# ============================================
# Caddy (HTTPS)
# ============================================

# Email para Let's Encrypt (notificaciones de renovación)
CADDY_EMAIL=tu-email@example.com

# Dominio de la aplicación
DOMAIN=tu-dominio.com

# ============================================
# Backups
# ============================================

# Path para backups
BACKUP_PATH=/backups

# Días de retención de backups
BACKUP_RETENTION_DAYS=30

# ============================================
# Monitoring (Opcional)
# ============================================

# URL de healthcheck externo (UptimeRobot, etc)
# HEALTHCHECK_URL=https://hc-ping.com/tu-uuid

# ============================================
# Notas de Seguridad
# ============================================

# 1. NUNCA commitear este archivo con valores reales
# 2. JWT_SECRET debe ser aleatorio y único por entorno
# 3. Cambiar todos los secrets después de deploy inicial
# 4. Usar diferentes secrets en dev/staging/prod
# 5. Rotar JWT_SECRET periódicamente (cada 6 meses)

# ============================================
# Comandos Útiles
# ============================================

# Generar JWT secret:
#   openssl rand -base64 32

# Generar password hash (BCrypt):
#   htpasswd -nbBC 12 "" password | awk -F: '{print $2}'

# Verificar variables cargadas (en contenedor):
#   docker exec descansario-api env | grep JWT
